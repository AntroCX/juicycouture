<?php$_SERVER["DOCUMENT_ROOT"] = realpath(dirname(__FILE__)."/..");$DOCUMENT_ROOT = $_SERVER["DOCUMENT_ROOT"];define("NO_KEEP_STATISTIC", true);define("NOT_CHECK_PERMISSIONS",true);define('BX_NO_ACCELERATOR_RESET', true);require($_SERVER["DOCUMENT_ROOT"]."/bitrix/modules/main/include/prolog_before.php");@set_time_limit(0);@ignore_user_abort(true);use \Bitrix\Main\Loader;use \Jamilco\Main\Oracle;Loader::includeModule('iblock');/////////////////$iblock_id = 1; // артикулы в каталоге$articul_code = "ARTNUMBER";/////////////////$arFilter = array(    "ACTIVE" => "Y",    "IBLOCK_ID" => $iblock_id,    "!PROPERTY_".$articul_code => false,    array(        "LOGIC" => "OR",        array("PROPERTY_MODEL" => false),        array("PROPERTY_CATEGORY" => false)    ));$art2id = array();$articuls = array();$res = CIBlockElement::GetList(array(), $arFilter, false, false, array("ID", "PROPERTY_".$articul_code));while($arItem = $res->Fetch()){    $articul = trim($arItem["PROPERTY_".$articul_code."_VALUE"]);    if(preg_match('/[А-яЁё]+/is', $articul))        continue;    $art2id[$articul][] = $arItem["ID"]; // один артикул -> неск. sku id    $articuls[] = $articul;}$articuls = array_unique($articuls);// ocsif(!empty($articuls)) {    $arFields = Oracle::getInstance()->getFeedFields($articuls);// обновляем свойства    foreach ($arFields as $arVals) {        foreach ($art2id[$arVals["PGSC"]] as $id) {            CIBlockElement::SetPropertyValuesEx($id, false, array("MODEL" => $arVals["STYLE_NAME"]));            CIBlockElement::SetPropertyValuesEx($id, false, array("CATEGORY" => $arVals["GROUP_NAME"]));        }    }}
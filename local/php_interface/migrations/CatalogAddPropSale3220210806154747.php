<?php

namespace Sprint\Migration;

use Bitrix\Main\Loader;

class CatalogAddPropSale3220210806154747 extends Version
{
    protected $description = "Добавление товарам свойства \"Акция: 3=2\"";

    protected $moduleVersion = "3.28.7";

    /**
     * @throws Exceptions\HelperException
     * @return bool|void
     */
    public function up()
    {
        $helper = $this->getHelperManager();

        if (!Loader::includeModule('iblock')) {
            $this->outWarning('Не удалось подключить необходимые модули: iblock');
            return;
        }

        $iblockId = $helper->Iblock()->getIblockIdIfExists('catalog', 'catalog');
        $propertyId = $helper->Iblock()->saveProperty($iblockId, array (
            'NAME' => 'Акция: 3=2',
            'ACTIVE' => 'Y',
            'SORT' => '130',
            'CODE' => 'SALE_3_2',
            'DEFAULT_VALUE' => '',
            'PROPERTY_TYPE' => 'L',
            'ROW_COUNT' => '1',
            'COL_COUNT' => '30',
            'LIST_TYPE' => 'C',
            'MULTIPLE' => 'N',
            'XML_ID' => NULL,
            'FILE_TYPE' => '',
            'MULTIPLE_CNT' => '5',
            'LINK_IBLOCK_ID' => '0',
            'WITH_DESCRIPTION' => 'N',
            'SEARCHABLE' => 'N',
            'FILTRABLE' => 'N',
            'IS_REQUIRED' => 'N',
            'VERSION' => '1',
            'USER_TYPE' => NULL,
            'USER_TYPE_SETTINGS' => NULL,
            'HINT' => '',
            'VALUES' =>
                array (
                    0 =>
                        array (
                            'VALUE' => 'Y',
                            'DEF' => 'N',
                            'SORT' => '500',
                            'XML_ID' => 'Y',
                        ),
                ),
        ));

        if (!$propertyId) {
            $this->outWarning('Не удалось добавить новое свойство');
            return;
        }

        $this->outNotice('Добавлено новое свойство тавара: Акция: 3=2');

        $enumValue = \CIBlockProperty::GetPropertyEnum(
            'SALE_3_2',
            [],
            [
                'IBLOCK_ID' => $iblockId,
                'XML_ID' => 'Y',
            ]
        )->Fetch();

        if (!$enumValue['ID']) {
            $this->outWarning('Не найдено значение свойства');
            return;
        }

        $articles = [
            '30142T/22220', '30158T/22221', '30282/67878', 'A0110394', 'A0112719',
            'A0115018', 'AL51147U/7677E', 'AO103622', 'AO103624', 'AO103625',
            'CO50073U/5990P', 'CO50073U/5991P', 'CO50073U/5992P', 'CO50545U/5975P', 'CO50545U/5986P',
            'CO50545U/7468Y', 'CO51041U/6044P', 'F90355/21007', 'F90359/20412', 'F90363/21006',
            'F90459/21769', 'GFA90651/971', 'GFA90658/665', 'GTKB115828/734', 'GTKT181340/697',
            'IM50978U/5912Y', 'IM50978U/5913Y', 'IM50978U/5915Y', 'IM50978U/5916Y', 'IM50978U/7577P',
            'IM50978U/7638Y', 'JB248/BLK', 'JB257/BLK', 'JB274/PBK', 'JB278/PBK',
            'JB351/BLK', 'JBH5119/BLACK', 'JBJ0001/881', 'JBJ0001/885', 'JBJ0002/881',
            'JBJ0002/885', 'JBJ0015/009', 'JBJ0016/009', 'JBJ0018/009', 'JBJ0018/899',
            'JBJ0023/899', 'JBJ0024/899', 'JBJ0035/009', 'JBJ0035/896', 'JBJ0054/009',
            'JBJ0054/896', 'JBX0081/102', 'JBX0086/102', 'JBX0101/959', 'JBX0103/002',
            'JBX0108/102', 'JBX0114/102', 'JBX0118/102', 'JBX0119/102', 'JBX0121/102',
            'JBX5054/002', 'JBX5054/102', 'JBX5105/002', 'JBX5105/117', 'JBX5119/977',
            'JBX5229/881', 'JBX5315/102', 'JC136512TA/WHT', 'JC18/LEO', 'JC18/REDPL',
            'JCACB203/174', 'JCAP176/101', 'JCAP176/108', 'JCAP176/116', 'JCAP176/120',
            'JCAP176/122', 'JCAP176/131', 'JCAP176/162', 'JCAP176/163', 'JCAP177/120',
            'JCAP177/122', 'JCAP178/101', 'JCAP178/102', 'JCAP178/120', 'JCAP178/131',
            'JCAP180/108', 'JCAP180/116', 'JCAP180/131', 'JCAP180/162', 'JCAP180/163',
            'JCAP203/160', 'JCAPB199/160', 'JCAPB200/160', 'JCAPB201/160', 'JCAPB202/121',
            'JCAPB202/160', 'JCAPB288/113', 'JCAPB316/101', 'JCAPB317/101', 'JCAPB317/117',
            'JCAPB319/126', 'JCAPB333/101', 'JCAPB333/144', 'JCAPB369/115', 'JCAPB388/117',
            'JCAPB388/134', 'JCAPB390/101', 'JCAPB392/117', 'JCAPB392/121', 'JCAPB402/101',
            'JCAPB406/101', 'JCAPB415/115', 'JCAPB427/121', 'JCAPB427/144', 'JCAPB434/101',
            'JCAPB434/123', 'JCAPB434/144', 'JCAPB435/101', 'JCAPB435/123', 'JCAPB435/144',
            'JCAPB443/119', 'JCAPB446/126', 'JCAPB458/101', 'JCAPB459/101', 'JCAPB461/101',
            'JCAPB462/101', 'JCAPB463/101', 'JCAPB464/101', 'JCAPB465/121', 'JCAPB497/117',
            'JCAPB503/101', 'JCAPW044/101', 'JCAPW044/160', 'JCAPW045/101', 'JCAPW045/160',
            'JCAPW045/165', 'JCAPW046/101', 'JCAPW046/134', 'JCAPW046/166', 'JCAPW048/101',
            'JCAPW087/101', 'JCAU121022/160', 'JCAY121047/101', 'JCAY121047/121', 'JCBC121010/101',
            'JCBC121011/101', 'JCBC121011/117', 'JCBC121011/166', 'JCCA221001/101', 'JCCA221001/107',
            'JCCA221001/109', 'JCCA221001/167', 'JCCA221001/192', 'JCCB221003/101', 'JCCB221003/107',
            'JCCB221003/109', 'JCCB221003/167', 'JCCB221003/181', 'JCCB221003/192', 'JCCH121001/101',
            'JCCH121001/131', 'JCLA121003/101', 'JCLB121004/101', 'JCLH121002/101', 'JCLH220004/101',
            'JCLN121001/101', 'JCLQ220003/101', 'JCLQ220003/121', 'JCLS220005/101', 'JCLS220005/121',
            'JCSA121016/101', 'JCSA121016/117', 'JCSA121016/160', 'JCSB121015/101', 'JCSB121015/121',
            'JCSB121015/160', 'JCSC121026/101', 'JCSC121026/117', 'JCSC121028/117', 'JCSC121028/166',
            'JCSH121008/101', 'JCSH121017/121', 'JCSH121017/160', 'JCSH121025/101', 'JCSI121007/101',
            'JCSI121007/166', 'JCSI121014/101', 'JCSI121014/117', 'JCSI121024/101', 'JCSM121003/101',
            'JCSM121003/166', 'JCSN121001/101', 'JCSS121027/101', 'JCSS121027/117', 'JCWA121014/169',
            'JCWA121037/101', 'JCWA121037/160', 'JCWA121070/131', 'JCWA121070/134', 'JCWA121088/101',
            'JCWA121088/121', 'JCWA121090/134', 'JCWA121090/192', 'JCWB121015/169', 'JCWB121049/101',
            'JCWB121049/160', 'JCWB121069/131', 'JCWB121069/134', 'JCWB121081/101', 'JCWB121089/101',
            'JCWB121089/121', 'JCWB121091/134', 'JCWB121091/192', 'JCWC121032/101', 'JCWC121032/117',
            'JCWC121034/101', 'JCWC121034/117', 'JCWC121034/166', 'JCWC121036/101', 'JCWC121036/117',
            'JCWC121038/101', 'JCWC121038/160', 'JCWC121038/165', 'JCWC121039/101', 'JCWC121039/117',
            'JCWC121040/117', 'JCWC121042/101', 'JCWC121042/117', 'JCWC121082/117', 'JCWC121083/117',
            'JCWC121083/126', 'JCWC121083/134', 'JCWC121084/101', 'JCWC121084/117', 'JCWC121084/121',
            'JCWC121085/101', 'JCWC121085/109', 'JCWC121085/117', 'JCWC121085/121', 'JCWC121087/101',
            'JCWH121001/165', 'JCWH121092/109', 'JCWL121050/117', 'JCWL121050/167', 'JCWS121016/168',
            'JCWS121016/169', 'JCWS121041/121', 'JCWT121055/101', 'JCWT121055/166', 'JG008317/REG',
            'JJ191/PBK', 'JJ200/001', 'JJ203/001', 'JJ207/100', 'JJ220/001',
            'JJ220/100', 'JWFKB228033/601', 'JWFKD204506/977', 'JWFKJ228030/419', 'JWFKJ228030/601',
            'JWFKR228040/419', 'JWFKT212409/621', 'JWFKT228043/470', 'JWFKT228043/642', 'JWFST113090/996',
            'JWFST179575/419', 'JWFWB156444/481', 'JWFWJ131933/003', 'JWFWJ160875/011', 'JWTKB131631/419',
            'JWTKB139844/431', 'JWTKB179524/957', 'JWTKB212059/621', 'JWTKB214604/009', 'JWTKB228031/601',
            'JWTKD204414/049', 'JWTKD204474/978', 'JWTKJ131630/952', 'JWTKJ155290/629', 'JWTKJ215713/009',
            'JWTKT120826/049', 'JWTKT140070/106', 'JWTKT155366/119', 'JWTKT161824/628', 'JWTKT179492/961',
            'JWTKT179676/009', 'JWTKT179715/119', 'JWTKT179717/450', 'JWTKT189479/419', 'JWTKT204304/009',
            'JWTKT204304/049', 'JWTKT204441/009', 'JWTWB161812/012', 'JWTWJ204380/041', 'JWTWT179661/070',
            'JWTWT183271/620', 'M10589T/67883', 'M10590T/21578', 'R000046U/94737', 'R000046U/94738',
            'R000046U/94739', 'R000055U/7136Y', 'R000055U/7137Y', 'S-GHB118932/674', 'S-JBJ0002/885',
            'S-JBJ0006/395', 'S-JBJ0014/102', 'S-JBJ0016/009', 'S-JBJ0021/188', 'S-JBJ0034/896',
            'S-JBJ0054/009', 'S-JBJ0076/002', 'S-JBJ0078/959', 'S-JBJ0081/102', 'S-JBJ0085/959',
            'S-JBJ0087/002', 'S-JBJ0090/959', 'S-JBJ0092/959', 'S-JBJ0096/002', 'S-JBJ0101/959',
            'S-JBJ0103/002', 'S-JBJ0104/102', 'S-JBJ0106/102', 'S-JBJ0108/102', 'S-JBJ0111/102',
            'S-JBJ0112/979', 'S-JBJ0114/102', 'S-JBJ0118/102', 'S-JBJ0119/979', 'S-JBJ0121/102',
            'S-JBX0115/120', 'S-JBX0117/120', 'S-JBX5026/023', 'S-JBX5054/002', 'S-JBX5054/102',
            'S-JBX5054/977', 'S-JBX5103/957', 'S-JBX5105/117', 'S-JBX5119/977', 'S-JBX5147/117',
            'S-JBX5168/881', 'S-JBX5219/881', 'S-JBX5252/A32', 'S-JBX5257/395', 'S-JBX5259/395',
            'S-JBX5262/395', 'S-JBX5263/102', 'S-JBX5264/A22', 'S-JBX5265/395', 'S-JBX5269/881',
            'S-JBX5368/562', 'S-JBX5377/102', 'S-JBX5395/102', 'S-JCAPB186/144', 'S-JCAPB193/115',
            'S-JCAPB195/115', 'S-JCAPB297/144', 'S-JCAPB340/123', 'S-JCAPB340/144', 'S-JCAPB343/125',
            'S-JCAPB347/127', 'S-JCAPB351/129', 'S-JCAPB406/101', 'S-JCAPB419/125', 'S-JCAPB419/144',
            'S-JCAPB436/121', 'S-JCAPB436/123', 'S-JCAW221011BLACK', 'S-JCB10004/673', 'S-JCCC221004ASTORRED',
            'S-JCCC221005ASTORRED', 'S-JCLA221010SUGARSWIZZLE', 'S-JCLP221013BLACK', 'S-JCSM221002BLACK', 'S-JCSM221005ORCHID',
            'S-JCSM221008BLACK', 'S-JCSM221008SPARKLINGGRAPE', 'S-JCSQ221001BLACK', 'S-JCSQ221004ORCHID', 'S-JCSQ221007SPARKLINGGRAPE',
            'S-JCWB221027MONOCHECK', 'S-JCWC221033BLACK', 'S-JCWC221044ORCHID', 'S-JCWC221045SPARKLINGGRAPE', 'S-JCWC221046WHITE',
            'S-JCWC221051BLACK', 'S-JCWD221030BLACK', 'S-JCWF221031PRINCESSBLUE', 'S-JCWS221016BLACK', 'S-JWFKT120778/611',
            'S-JWFKT212377/402', 'S-JWFKT212377/683', 'S-JWFWB216510/722', 'S-JWFWJ120519/037', 'S-JWTKB214604/009',
            'SS20JBX5054/002', 'SS20JCAPW009/101', 'SS20JCAPW039/116', 'SS20JCAPW049/113', 'SS20JCAPW062/116',
            'S-SS20JCAPW017/101', 'S-SS20JCAPW029/100', 'S-SS20JCAPW029/111', 'S-SS20JCAPW032/118', 'S-SS20JCAPW058/110',
            'S-SS20JCAPW062/116', 'S-WFKB236643/PINK', 'S-WFKB238953/GREY', 'S-WFKD236443/PINK', 'S-WFKJ236651/GARDEN',
            'S-WFKT236429/STAR', 'S-WFKT236434/FIG', 'S-WFKT239051/NIGHT', 'S-WFKT239053/PYTHON', 'S-WFKT240675/GREY',
            'S-WFKT250802/NIGHT', 'S-WFSB204092/344', 'S-WFSB204136/469', 'S-WFSD224004/119', 'S-WFSD238654/BLACKRED',
            'S-WFSJ211747/119', 'S-WFSJ211747/663', 'S-WFST202590/109', 'S-WFST211842/119', 'S-WFST240522/PINK',
            'S-WFST240523/CHARCOAL', 'S-WFWB191219/434', 'S-WFWB202851/601', 'S-WFWB204923/009', 'S-WFWB206413/476',
            'S-WFWB206426/481', 'S-WFWB206430/479', 'S-WFWB206431/474', 'S-WFWB206442/987', 'S-WFWB208275/987',
            'S-WFWB211705/119', 'S-WFWB211823/042', 'S-WFWB212293/105', 'S-WFWB212338/105', 'S-WFWB214150/105',
            'S-WFWB223919/656', 'S-WFWB236673/FLORAL', 'S-WFWB236762/HEART', 'S-WFWB250540/BLUE', 'S-WFWD202830/475',
            'S-WFWD206373/990', 'S-WFWD206500/150', 'S-WFWD211689/696', 'S-WFWD211792/280', 'S-WFWD211810/966',
            'S-WFWD211881/042', 'S-WFWD215562/485', 'S-WFWD215563/485', 'S-WFWD236683/HEART', 'S-WFWD236686/BLACK',
            'S-WFWJ206438/987', 'S-WFWJ237071/STRAWBERRY', 'S-WFWJ237088/SOLID', 'S-WFWR211708/119', 'S-WFWT206384/688',
            'S-WFWT211704/119', 'S-WFWT211782/698', 'S-WFWT211882/042', 'S-WFWT218834/119', 'S-WFWT223921/412',
            'S-WFWT223921/656', 'S-WFWT236695/STARS', 'S-WHB117165/009', 'S-WHB117803/009', 'S-WHB121735/626',
            'S-WHB673/100', 'S-WSG117456/800', 'S-WSG117468/009', 'S-WTKB205039/474', 'S-WTKB211020/682',
            'S-WTKB236811/LEMONADE', 'S-WTKB236824/CERISE', 'S-WTKB236889/MAGENTA', 'S-WTKB236913/FIG', 'S-WTKB236932/PYTHON',
            'S-WTKB248197/BLACK', 'S-WTKB86022/009', 'S-WTKB86109/442', 'S-WTKD202911/989', 'S-WTKD204642/009',
            'S-WTKD205030/474', 'S-WTKD205351/419', 'S-WTKD211116/663', 'S-WTKD211121/966', 'S-WTKD214793/940',
            'S-WTKD214960/484', 'S-WTKD86021/009', 'S-WTKJ138120/654', 'S-WTKJ169510/009', 'S-WTKJ205017/411',
            'S-WTKJ205268/009', 'S-WTKJ205274/261', 'S-WTKJ205331/688', 'S-WTKJ210938/049', 'S-WTKJ210938/419',
            'S-WTKJ211018/682', 'S-WTKJ211045/486', 'S-WTKJ214338/662', 'S-WTKJ224326/465', 'S-WTKJ236796/PINK',
            'S-WTKJ236840/MAGENTA', 'S-WTKJ236878/COZY', 'S-WTKJ236884/BLACK', 'S-WTKJ236886/MAGENTA', 'S-WTKJ236912/FIG',
            'S-WTKJ236912/NIGHT', 'S-WTKJ247245/BLACK', 'S-WTKJ72760/405', 'S-WTKR205025/411', 'S-WTKR205027/474',
            'S-WTKR205027/984', 'S-WTKR207215/419', 'S-WTKR211101/484', 'S-WTKR236933/PYTHON', 'S-WTKT159770/938',
            'S-WTKT169514/009', 'S-WTKT202981/419', 'S-WTKT202981/601', 'S-WTKT204625/119', 'S-WTKT204625/419',
            'S-WTKT205328/419', 'S-WTKT236804/BLACK', 'S-WTKT236848/BLACK', 'S-WTKT236881/BLACK', 'S-WTKT236881/RED',
            'S-WTKT236914/FIG', 'S-WTKT236914/RED', 'S-WTKT236921/BLACK', 'S-WTKT236921/COZY', 'S-WTKT236921/FIG',
            'S-WTKT236934/BLACK', 'S-YJRU6782/RED', 'TC51299U/7484P', 'VJRF40001', 'VJRF40002', 'VJRF40003',
            'WFA100861/017', 'WFA183/026', 'WFA183/052', 'WFA183/673', 'WFA185/026',
            'WFA210/989', 'WFA78462/011', 'WFA90575/498', 'WFA91051/464', 'WFA91053/009',
            'WFA91053/698', 'WFA91081/009', 'WFA91081/698', 'WFA91170/102', 'WFKB116588/009',
            'WFKB116588/419', 'WFKB146847/419', 'WFKB193795/009', 'WFKB202832/419', 'WFKB210140/009',
            'WFKB211905/009', 'WFKD133185/130', 'WFKD202833/419', 'WFKD204927/419', 'WFKJ149766/419',
            'WFKJ236461/960', 'WFKT116703/107', 'WFKT116703/138', 'WFKT137885/049', 'WFKT137885/419',
            'WFKT140334/335', 'WFKT171161/405', 'WFKT171161/834', 'WFKT171161/938', 'WFKT182799/009',
            'WFKT182799/419', 'WFKT209525/009', 'WFKT209529/119', 'WFKT240891/343', 'WFKT240946/500',
            'WFSB160196/162', 'WFSB163518/419', 'WFSB168211/049', 'WFSD117242/666', 'WFSD193921/963',
            'WFSD85772/640', 'WFSJ202582/419', 'WFSJ85830/009', 'WFST163009/009', 'WFST163016/009',
            'WFST168201/049', 'WFST168201/405', 'WFST168214/009', 'WFST168214/049', 'WFST168239/109',
            'WFST168239/405', 'WFST168244/405', 'WFST188416/420', 'WFST188416/651', 'WFST188427/049',
            'WFST188427/109', 'WFST188858/420', 'WFST189005/033', 'WFST202590/109', 'WFST214369/009',
            'WFST238718/687', 'WFWB112028/424', 'WFWB117021/422', 'WFWB132119/494', 'WFWB133131/456',
            'WFWB133158/419', 'WFWB133159/451', 'WFWB133200/286', 'WFWB152326/465', 'WFWB159450/497',
            'WFWB161006/153', 'WFWB161522/132', 'WFWB164065/024', 'WFWB164065/601', 'WFWB180748/470',
            'WFWB180762/472', 'WFWB180786/472', 'WFWB189202/031', 'WFWB189210/033', 'WFWB190337/059',
            'WFWB190446/059', 'WFWB191217/009', 'WFWB191218/002', 'WFWB191219/004', 'WFWB191219/423',
            'WFWB200486/969', 'WFWB202848/149', 'WFWB206038/478', 'WFWB206043/478', 'WFWB206413/476',
            'WFWB206430/479', 'WFWB208275/987', 'WFWB214700/419', 'WFWB221806/302', 'WFWB221807/419',
            'WFWB238391/126', 'WFWB239391/997', 'WFWB249320/009', 'WFWB86458/989', 'WFWD100299/419',
            'WFWD133215/419', 'WFWD145836/813', 'WFWD150065/624', 'WFWD180809/419', 'WFWD180845/419',
            'WFWD189106/031', 'WFWD193468/462', 'WFWD194163/976', 'WFWD202830/475', 'WFWD206373/602',
            'WFWD206493/540', 'WFWD210110/035', 'WFWD210364/692', 'WFWD217152/119', 'WFWD223714/540',
            'WFWD236683/969', 'WFWJ118217/422', 'WFWJ163430/405', 'WFWJ164031/009', 'WFWJ180777/686',
            'WFWJ180778/946', 'WFWJ182688/009', 'WFWJ183438/405', 'WFWJ191223/009', 'WFWJ204913/991',
            'WFWJ206389/109', 'WFWJ238405/997', 'WFWR164357/009', 'WFWR200109/035', 'WFWT129224/419',
            'WFWT133161/119', 'WFWT133161/419', 'WFWT163446/132', 'WFWT164356/009', 'WFWT189198/031',
            'WFWT202837/475', 'WFWT204897/043', 'WFWT206411/476', 'WFWT209189/033', 'WFWT223715/540',
            'WJW157/GOLD', 'WJW161/BLK', 'WJW163/GOLD', 'WJW33/GOLD', 'WJW361/001',
            'WJW382/710', 'WJW405/621', 'WJW405/734', 'WJW425/710', 'WJW43/GOLD',
            'WJW476/710', 'WJW478/001', 'WJW483/710', 'WJW501/710', 'WJW505/710',
            'WJW518/710', 'WJW530/710', 'WJW534/710', 'WJW540/040', 'WJW543/710',
            'WJW567/710', 'WJW57/GOLD', 'WJW57299/712', 'WJW57435/712', 'WJW575/463',
            'WJW575/533', 'WJW575/622', 'WJW57531/712', 'WJW57571/040', 'WJW590/463',
            'WJW590/533', 'WJW603/710', 'WJW61422/040', 'WJW62486/040', 'WJW62486/690',
            'WJW62489/712', 'WJW62490/040', 'WJW62521/712', 'WJW62527/712', 'WJW62528/712',
            'WJW62537/040', 'WJW62537/712', 'WJW62540/712', 'WJW644/710', 'WJW657/710',
            'WJW664/421', 'WJW66479/040', 'WJW66480/712', 'WJW68275/712', 'WJW68277/712',
            'WJW68679/712', 'WJW68789/040', 'WJW68789/712', 'WJW70954/040', 'WJW70954/712',
            'WJW70972/712', 'WJW70993/712', 'WJW71007/040', 'WJW71009/040', 'WJW72583/712',
            'WJW77541/712', 'WJW79/RGLD', 'WJW85/GOLD', 'WJW86759/690', 'WJW86815/503',
            'WJW86816/612', 'WJW86819/009', 'WJW86831/698', 'WJW90802/712', 'WSFT160199/009',
            'WSFT160199/162', 'WSG167/043', 'WTKB116630/417', 'WTKB117068/419', 'WTKB133337/663',
            'WTKB148012/451', 'WTKB161675/938', 'WTKB169504/479', 'WTKB169869/307', 'WTKB169900/109',
            'WTKB187850/109', 'WTKB187928/300', 'WTKB187963/109', 'WTKB188732/685', 'WTKB193591/651',
            'WTKB203395/303', 'WTKB203395/693', 'WTKB204650/455', 'WTKB204961/419', 'WTKB204961/601',
            'WTKB205163/109', 'WTKB205281/654', 'WTKB205317/430', 'WTKB205317/601', 'WTKB205327/601',
            'WTKB205333/109', 'WTKB207712/419', 'WTKB210939/049', 'WTKB210952/682', 'WTKB211010/682',
            'WTKB211020/682', 'WTKB212735/432', 'WTKB212735/682', 'WTKB236797/400', 'WTKB236800/663',
            'WTKB236867/022', 'WTKB236888/604', 'WTKB236913/500', 'WTKB236919/500', 'WTKB243137/109',
            'WTKB261485/400', 'WTKB72771/666', 'WTKB79145/419', 'WTKB79191/666', 'WTKB79609/666',
            'WTKB86109/651', 'WTKB86109/681', 'WTKB86109/693', 'WTKD190763/009', 'WTKD202911/989',
            'WTKD205030/474', 'WTKD205351/419', 'WTKJ116219/109', 'WTKJ133335/663', 'WTKJ138120/109',
            'WTKJ138120/601', 'WTKJ138120/654', 'WTKJ163338/938', 'WTKJ169510/009', 'WTKJ169603/009',
            'WTKJ183572/147', 'WTKJ187674/681', 'WTKJ187819/147', 'WTKJ187847/419', 'WTKJ187864/009',
            'WTKJ187864/029', 'WTKJ187916/029', 'WTKJ187916/419', 'WTKJ187930/300', 'WTKJ187930/419',
            'WTKJ187953/009', 'WTKJ187953/653', 'WTKJ187962/009', 'WTKJ187962/109', 'WTKJ187969/419',
            'WTKJ188705/009', 'WTKJ189367/009', 'WTKJ189367/683', 'WTKJ191224/419', 'WTKJ191224/442',
            'WTKJ191224/453', 'WTKJ203392/419', 'WTKJ203392/693', 'WTKJ205029/474', 'WTKJ205268/009',
            'WTKJ205268/501', 'WTKJ205274/261', 'WTKJ205312/419', 'WTKJ205312/601', 'WTKJ205331/688',
            'WTKJ207055/109', 'WTKJ207055/455', 'WTKJ207123/473', 'WTKJ207123/643', 'WTKJ210600/109',
            'WTKJ210620/458', 'WTKJ210620/662', 'WTKJ210938/049', 'WTKJ210938/109', 'WTKJ210938/419',
            'WTKJ210972/009', 'WTKJ210979/147', 'WTKJ210979/682', 'WTKJ211971/009', 'WTKJ212719/432',
            'WTKJ215002/009', 'WTKJ215002/682', 'WTKJ215676/612', 'WTKJ236769/009', 'WTKJ236780/009',
            'WTKJ236795/147', 'WTKJ236795/400', 'WTKJ236796/009', 'WTKJ236807/962', 'WTKJ236822/980',
            'WTKJ236866/009', 'WTKJ236866/022', 'WTKJ236866/696', 'WTKJ236884/009', 'WTKJ236884/604',
            'WTKJ236912/500', 'WTKJ236916/009', 'WTKJ236916/147', 'WTKJ236916/500', 'WTKJ236934/009',
            'WTKJ261483/317', 'WTKJ261483/400', 'WTKJ261483/533', 'WTKJ68019/009', 'WTKJ68021/009',
            'WTKJ68021/419', 'WTKJ72760/009', 'WTKJ72760/029', 'WTKJ72760/405', 'WTKJ72760/419',
            'WTKJ72760/601', 'WTKR169598/009', 'WTKR187903/419', 'WTKR204987/473', 'WTKR205027/474',
            'WTKR211101/484', 'WTKR214984/009', 'WTKT133338/663', 'WTKT145155/119', 'WTKT169514/009',
            'WTKT188489/009', 'WTKT188730/685', 'WTKT202953/983', 'WTKT202981/419', 'WTKT202981/601',
            'WTKT203397/419', 'WTKT203448/119', 'WTKT203448/419', 'WTKT204625/419', 'WTKT204647/109',
            'WTKT204647/302', 'WTKT205277/009', 'WTKT205328/419', 'WTKT205328/430', 'WTKT205334/688',
            'WTKT236803/053', 'WTKT236803/400', 'WTKT236804/663', 'WTKT236872/977', 'WTKT236921/009',
            'WTKT236921/053', 'WTKT236921/500', 'WTWB134942/456', 'WTWB188722/969', 'WTWD164296/645',
            'YJRU6648/710', 'YJRU7708/710', 'YJRU7806/687', 'YJRU8132/GOLD', 'YSRU2860/GOLD',
            'YTRUA597/650',
        ];

        $dbProducts = \CIBlockElement::GetList(
            [],
            [
                'IBLOCK_ID' => $iblockId,
                'PROPERTY_ARTNUMBER' => $articles,
            ],
            false,
            false,
            [
                'ID',
                'PROPERTY_ARTNUMBER',
            ]
        );

        $foundedProducts = [];

        while ($arProduct = $dbProducts->Fetch()) {
            $foundedProducts[] = $arProduct['PROPERTY_ARTNUMBER_VALUE'];

            \CIBlockElement::SetPropertyValuesEx(
                $arProduct['ID'],
                $iblockId,
                [
                    'SALE_3_2' => $enumValue['ID'],
                ]
            );
        }

        $this->outNotice('Изменены артикулы ('.count($foundedProducts).'): '.implode(', ', $foundedProducts));

        $notFoundedProducts = array_diff($articles, $foundedProducts);

        if ($notFoundedProducts) {
            $this->outWarning('Не удалось найти артикулы ('.count($notFoundedProducts).'): '.implode(', ', $notFoundedProducts));
        }
    }

    public function down()
    {
        $helper = $this->getHelperManager();

        if (!Loader::includeModule('iblock')) {
            $this->outWarning('Не удалось подключить необходимые модули: iblock');
            return;
        }

        $iblockId = $helper->Iblock()->getIblockIdIfExists('catalog', 'catalog');

        $dbProducts = \CIBlockElement::GetList(
            [],
            [
                'IBLOCK_ID' => $iblockId,
                '!PROPERTY_SALE_3_2' => false,
            ],
            false,
            false,
            [
                'ID',
                'PROPERTY_ARTNUMBER',
            ]
        );

        $foundedProducts = [];

        while ($arProduct = $dbProducts->Fetch()) {
            $foundedProducts[] = $arProduct['PROPERTY_ARTNUMBER_VALUE'];

            \CIBlockElement::SetPropertyValuesEx(
                $arProduct['ID'],
                $iblockId,
                [
                    'SALE_3_2' => false,
                ]
            );
        }

        $this->outNotice('Изменены артикулы ('.count($foundedProducts).'): '.implode(', ', $foundedProducts));
    }
}

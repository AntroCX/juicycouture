$(function(){var a=$("body"),t=".b-catalog",o=".b-filter",c=".b-page__loader",l='input[name="SEF_SET_FILTER_URL"]',r=".b-sort__block-checkbox";$("body").on("click",".collapsed",function(){console.log($(this).attr("aria-controls")),$.cookie("filter_select",$(this).attr("aria-controls"))}),a.on("click",".b-filter__reset-btn",function(a){a.preventDefault();a=addParamToURL($(o).attr("action"),"del_filter","Y"),a=addParamToURL(a,"ajax","Y");$(c).addClass("show"),$.get(a).done(function(a){$(t).replaceWith(a),$(c).removeClass("show");a=$(l).val();changeURL(a)})}),a.on("click",".b-filter__block-switch",function(){$(".b-filter__block:not(.b-sort__block)").toggle()}),a.on("click",".b-filter__block:not(.b-sort__block) input",function(){var a=$(o).serialize()+"&set_filter=Показать",e=$(o).attr("action");$(c).addClass("show"),$(o).addClass("deactivate"),$.ajax({type:"GET",url:e,data:a+"&ajax=Y",success:function(a){$(t).replaceWith(a),$(c).removeClass("show"),$(o).removeClass("deactivate");var e=$(l).val();1===$(r+":checked").length&&(a=$(r+":checked").data("sort"),e=addParamToURL(e,"sort",a)),changeURL(e)},error:function(a,e){console.log(a.responseCode),$(c).removeClass("show"),$(o).removeClass("deactivate")}})}),a.on("change",r,function(){var o=$(this),a=o.val();$(c).addClass("show"),$(r).not(o).each(function(){$(this).prop("checked",!1)}),o.prop("checked")||(a="");a=addParamToURL(a,"ajax","Y");$.get(a).done(function(a){$(c).removeClass("show"),$(t).replaceWith(a);var e=$(l).val(),a="";1===$(r+":checked").length&&(a=o.data("sort")),""!==a&&(e=addParamToURL(e,"sort",a)),changeURL(e)})})});